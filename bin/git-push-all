#!/bin/bash

for repo in $(find . -name ".git" -type d | rev | cut -c 6- | rev); do
    echo "$repo:"
    if [ -n "$(git log @{u}..)" ]; then
        git -C "$repo" log --date=short @{u}..
        git -C "$repo" push
    else
        echo "No changes to push"
    fi
    echo
done
