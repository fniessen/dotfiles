#!/usr/bin/env bash
die() {
    printf "$(basename $0): $@\n" > /dev/stderr
    exit 2                              # An error occurred.
}

files_executables_p() {
    for x in $@; do
        command -v $x > /dev/null || die "$x not found."
    done
}

files_cygwin_executables_p() {
    for x in $@; do
        [ "$(command -v $x)" = "/usr/bin/$x" ] \
            || die "$x is not a Cygwin executable."
    done
}

pname() {
    ps -o command= -p $PPID | tail -n 1 | awk '{print $1}' | awk -F/ '{print $NF}'
}

# List all files modified TODAY only (since start of day only, i.e. 00:00).
alias today='find . -daystart -mtime 0 -type f -printf "  %CY-%Cm-%Cd %Ca %CH:%CM - %p\n" | sed "s#\./##"'

# List all files modified YESTERDAY.
alias yesterday='find . -daystart -mtime 1 -type f -printf "  %CY-%Cm-%Cd %Ca %CH:%CM - %p\n" | sed "s#\./##"'

# List all files modified THIS WEEK.
alias thisweek1='find . -mtime -7 -type f -printf "  %CY-%Cm-%Cd %Ca %CH:%CM - %p\n" | sed "s#\./##"'
alias thisweek2='find . -mtime 7 -type f -printf "  %CY-%Cm-%Cd %Ca %CH:%CM - %p\n" | sed "s#\./##"'
alias thisweek3='find . -daystart -mtime 7 -type f -printf "  %CY-%Cm-%Cd %Ca %CH:%CM - %p\n" | sed "s#\./##"'
